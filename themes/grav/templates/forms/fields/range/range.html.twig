{% extends "forms/field.html.twig" %}

{% block input_attributes %}
    type="range"
    class="rangefield"
    {% if field.validate.min %}min="{{ field.validate.min }}"{% endif %}
    {% if field.validate.max %}max="{{ field.validate.max }}"{% endif %}
    {% if field.step %}step="{{ field.step }}"{% endif %}
    {% if field.id is defined %}
        id="range_{{ field.id|e }}"
        oninput="number_{{ field.id|e }}_output.value = this.value"
    {% else %}
        id="range_{{ field.name|e }}"
        oninput="number_{{ field.name|e }}_output.value = this.value"
    {% endif %}
    {{ parent() }}
{% endblock %}
{% block append %}
    <input
        type="number"
        class="rangefield"
        {% if field.validate.min %}min="{{ field.validate.min }}"{% endif %}
        {% if field.validate.max %}max="{{ field.validate.max }}"{% endif %}
        {% if field.step %}step="{{ field.step }}"{% endif %}
        {% if value %}
            value="{{ value }}"
        {% elseif field.default %}
            value="{{ field.default }}"
        {% else %}
            value="0"
        {% endif %}
        {% if field.id is defined %}
            id="number_{{ field.id|e }}_output"
            oninput="range_{{ field.id|e }}.value = this.value"
        {% else %}
            id="number_{{ field.name|e }}_output"
            oninput="range_{{ field.name|e }}.value = this.value"
        {% endif %}
    />
{% endblock append %}
